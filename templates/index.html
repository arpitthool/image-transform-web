<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Basic HTML5 meta tags for proper rendering -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Transform App</title>
    <!-- Link to external CSS file 
        We use url_for('static', filename='css/style.css') instead of just 'static/css/style.css'
        because url_for dynamically generates the correct URL for static files, taking into account
        the application's configuration, static folder location, and any URL prefixes or versioning.
        This ensures the link will always work, even if the app is deployed in a subdirectory or
        the static folder is moved. Using the filename directly can break if the app's structure changes.
    -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <h1>Image Transform App</h1>
        
        <!-- Flash messages section: displays any messages flashed from the backend (e.g., upload success or error) -->
        <div class="flash-messages">
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    {# 
                        If there are any messages, iterate through each one.
                        The message content is checked: if it contains the word 'successfully', 
                        it is styled as a success message; otherwise, as an error.
                        This allows for different visual feedback based on the message type.
                    #}
                    {% for message in messages %}
                        <div class="flash-message flash-{{ 'success' if 'successfully' in message else 'error' }}">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}
        </div>

        <!-- Image upload form section -->
        <div class="upload-form">
            <form action="/upload" method="post" enctype="multipart/form-data">
                <!-- File input: allows user to select an image file to upload.
                     'accept="image/*"' restricts file selection to image types.
                     'required' ensures the user cannot submit the form without selecting a file.
                -->
                <div class="file-input">
                    <input type="file" name="file" accept="image/*" required>
                </div>
                <!-- Submit button for the upload form -->
                <button type="submit" class="upload-btn">Upload Image</button>
            </form>
            <!-- Supported formats info: informs the user about allowed image types and max file size -->
            <div class="supported-formats">
                Supported formats: PNG, JPG, JPEG, GIF, BMP, WEBP (Max size: 16MB)
            </div>
        </div>
    </div>
</body>
</html>
